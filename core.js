/*! Theia Sticky Sidebar | v1.7.0 - https://github.com/WeCodePixels/theia-sticky-sidebar */
(function(a){a.fn.theiaStickySidebar=function(d){var f={containerSelector:&quot;&quot;,additionalMarginTop:0,additionalMarginBottom:0,updateSidebarHeight:true,minWidth:0,disableOnResponsiveLayouts:true,sidebarBehavior:&quot;modern&quot;,defaultPosition:&quot;relative&quot;,namespace:&quot;TSS&quot;};d=a.extend(f,d);d.additionalMarginTop=parseInt(d.additionalMarginTop)||0;d.additionalMarginBottom=parseInt(d.additionalMarginBottom)||0;e(d,this);function e(i,h){var j=b(i,h);if(!j){console.log(&quot;TSS: Body width smaller than options.minWidth. Init is delayed.&quot;);a(document).on(&quot;scroll.&quot;+i.namespace,function(l,k){return function(m){var n=b(l,k);if(n){a(this).unbind(m)}}}(i,h));a(window).on(&quot;resize.&quot;+i.namespace,function(l,k){return function(m){var n=b(l,k);if(n){a(this).unbind(m)}}}(i,h))}}function b(i,h){if(i.initialized===true){return true}if(a(&quot;body&quot;).width()&lt;i.minWidth){return false}g(i,h);return true}function g(i,h){i.initialized=true;var j=a(&quot;#theia-sticky-sidebar-stylesheet-&quot;+i.namespace);if(j.length===0){a(&quot;head&quot;).append(a(&#39;&lt;style id=&quot;theia-sticky-sidebar-stylesheet-&#39;+i.namespace+&#39;&quot;&gt;.theiaStickySidebar:after {content: &quot;&quot;; display: table; clear: both;}&lt;/style&gt;&#39;))}h.each(function(){var q={};q.sidebar=a(this);q.options=i||{};q.container=a(q.options.containerSelector);if(q.container.length==0){q.container=q.sidebar.parent()}q.sidebar.parents().css(&quot;-webkit-transform&quot;,&quot;none&quot;);q.sidebar.css({position:q.options.defaultPosition,overflow:&quot;visible&quot;,&quot;-webkit-box-sizing&quot;:&quot;border-box&quot;,&quot;-moz-box-sizing&quot;:&quot;border-box&quot;,&quot;box-sizing&quot;:&quot;border-box&quot;});q.stickySidebar=q.sidebar.find(&quot;.theiaStickySidebar&quot;);if(q.stickySidebar.length==0){var m=/(?:text|application)\/(?:x-)?(?:javascript|ecmascript)/i;q.sidebar.find(&quot;script&quot;).filter(function(r,o){return o.type.length===0||o.type.match(m)}).remove();q.stickySidebar=a(&quot;&lt;div&gt;&quot;).addClass(&quot;theiaStickySidebar&quot;).append(q.sidebar.children());q.sidebar.append(q.stickySidebar)}q.marginBottom=parseInt(q.sidebar.css(&quot;margin-bottom&quot;));q.paddingTop=parseInt(q.sidebar.css(&quot;padding-top&quot;));q.paddingBottom=parseInt(q.sidebar.css(&quot;padding-bottom&quot;));var l=q.stickySidebar.offset().top;var p=q.stickySidebar.outerHeight();q.stickySidebar.css(&quot;padding-top&quot;,1);q.stickySidebar.css(&quot;padding-bottom&quot;,1);l-=q.stickySidebar.offset().top;p=q.stickySidebar.outerHeight()-p-l;if(l==0){q.stickySidebar.css(&quot;padding-top&quot;,0);q.stickySidebarPaddingTop=0}else{q.stickySidebarPaddingTop=1}if(p==0){q.stickySidebar.css(&quot;padding-bottom&quot;,0);q.stickySidebarPaddingBottom=0}else{q.stickySidebarPaddingBottom=1}q.previousScrollTop=null;q.fixedScrollTop=0;k();q.onScroll=function(z){if(!z.stickySidebar.is(&quot;:visible&quot;)){return}if(a(&quot;body&quot;).width()&lt;z.options.minWidth){k();return}if(z.options.disableOnResponsiveLayouts){var H=z.sidebar.outerWidth(z.sidebar.css(&quot;float&quot;)==&quot;none&quot;);if(H+50&gt;z.container.width()){k();return}}var r=a(document).scrollTop();var I=&quot;static&quot;;if(r&gt;=z.sidebar.offset().top+(z.paddingTop-z.options.additionalMarginTop)){var E=z.paddingTop+i.additionalMarginTop;var G=z.paddingBottom+z.marginBottom+i.additionalMarginBottom;var w=z.sidebar.offset().top;var F=z.sidebar.offset().top+n(z.container);var C=0+i.additionalMarginTop;var A;var D=(z.stickySidebar.outerHeight()+E+G)&lt;a(window).height();if(D){A=C+z.stickySidebar.outerHeight()}else{A=a(window).height()-z.marginBottom-z.paddingBottom-i.additionalMarginBottom}var t=w-r+z.paddingTop;var y=F-r-z.paddingBottom-z.marginBottom;var x=z.stickySidebar.offset().top-r;var s=z.previousScrollTop-r;if(z.stickySidebar.css(&quot;position&quot;)==&quot;fixed&quot;){if(z.options.sidebarBehavior==&quot;modern&quot;){x+=s}}if(z.options.sidebarBehavior==&quot;stick-to-top&quot;){x=i.additionalMarginTop}if(z.options.sidebarBehavior==&quot;stick-to-bottom&quot;){x=A-z.stickySidebar.outerHeight()}if(s&gt;0){x=Math.min(x,C)}else{x=Math.max(x,A-z.stickySidebar.outerHeight())}x=Math.max(x,t);x=Math.min(x,y-z.stickySidebar.outerHeight());var u=z.container.height()==z.stickySidebar.outerHeight();if(!u&amp;&amp;x==C){I=&quot;fixed&quot;}else{if(!u&amp;&amp;x==A-z.stickySidebar.outerHeight()){I=&quot;fixed&quot;}else{if(r+x-z.sidebar.offset().top-z.paddingTop&lt;=i.additionalMarginTop){I=&quot;static&quot;}else{I=&quot;absolute&quot;}}}}if(I==&quot;fixed&quot;){var B=a(document).scrollLeft();z.stickySidebar.css({position:&quot;fixed&quot;,width:c(z.stickySidebar)+&quot;px&quot;,transform:&quot;translateY(&quot;+x+&quot;px)&quot;,left:(z.sidebar.offset().left+parseInt(z.sidebar.css(&quot;padding-left&quot;))-B)+&quot;px&quot;,top:&quot;0px&quot;})}else{if(I==&quot;absolute&quot;){var v={};if(z.stickySidebar.css(&quot;position&quot;)!=&quot;absolute&quot;){v.position=&quot;absolute&quot;;v.transform=&quot;translateY(&quot;+(r+x-z.sidebar.offset().top-z.stickySidebarPaddingTop-z.stickySidebarPaddingBottom)+&quot;px)&quot;;v.top=&quot;0px&quot;}v.width=c(z.stickySidebar)+&quot;px&quot;;v.left=&quot;&quot;;z.stickySidebar.css(v)}else{if(I==&quot;static&quot;){k()}}}if(I!=&quot;static&quot;){if(z.options.updateSidebarHeight==true){z.sidebar.css({&quot;min-height&quot;:z.stickySidebar.outerHeight()+z.stickySidebar.offset().top-z.sidebar.offset().top+z.paddingBottom})}}z.previousScrollTop=r};q.onScroll(q);a(document).on(&quot;scroll.&quot;+q.options.namespace,function(r){return function(){r.onScroll(r)}}(q));a(window).on(&quot;resize.&quot;+q.options.namespace,function(r){return function(){r.stickySidebar.css({position:&quot;static&quot;});r.onScroll(r)}}(q));if(typeof ResizeSensor!==&quot;undefined&quot;){new ResizeSensor(q.stickySidebar[0],function(r){return function(){r.onScroll(r)}}(q))}function k(){q.fixedScrollTop=0;q.sidebar.css({&quot;min-height&quot;:&quot;1px&quot;});q.stickySidebar.css({position:&quot;static&quot;,width:&quot;&quot;,transform:&quot;none&quot;})}function n(r){var o=r.height();r.children().each(function(){o=Math.max(o,a(this).height())});return o}})}function c(h){var i;try{i=h[0].getBoundingClientRect().width}catch(j){}if(typeof i===&quot;undefined&quot;){i=h.width()}return i}return this}})(jQuery);
